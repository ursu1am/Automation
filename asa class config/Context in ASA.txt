// context in ASA

Lab-Setup 
 
 
 Configure R5, R6, R7 and R8 as per the below mentioned addressing scheme. 
 Configure Telnet on All the router, with the password “cisco” 
 Configure the default route on all the router, pointing towards ASA. 

Configuration on Router 
 
R5: 
 
interface f0/0 no shut ip address 50.1.1.10 255.255.255.0 
 
interface loopback 0 ip address 5.5.5.5 255.255.255.0 
 
ip route 0.0.0.0 0.0.0.0 50.1.1.1  
 
 
 
R6: 
 
interface f0/0 no shut ip address 60.1.1.10 255.255.255.0 
 
interface loopback 0 ip address 6.6.6.6 255.255.255.0 
 
ip route 0.0.0.0 0.0.0.0 60.1.1.1 
 
 
R7: 
 
interface f0/0 no shut ip address 70.1.1.10 255.255.255.0 
 
interface loopback 0 ip address 7.7.7.7 255.255.255.0 
 
ip route 0.0.0.0 0.0.0.0 70.1.1.1 
 
 
 
R8: 

 interface f0/0 no shut ip address 80.1.1.10 255.255.255.0 
 
interface loopback 0 ip address 8.8.8.8 255.255.255.0 
 
ip route 0.0.0.0 0.0.0.0 80.1.1.1 
 
 
 
Task1 Configure the ASAp1 with Multi-Cont

Task1 Configure the ASAp1 with Multi-Context mode 
 
 Configure the ASAp1 with the following  
o Use the hostname ASAp1 
o Change the mode of the firewall to multiple. 
o Create context as per the below mentioned table 


 Context information should be stored in the flash memory. 
 Assigned interface should be named as given in the table. 
 
 
Configuration on Firewall 
 
ASAp1: 
 
hostname ASAp1 mode multiple 
 
interface Ethernet0 
no shutdown 
 
interface Ethernet1 no shutdown 
 
interface Ethernet2 no shutdown 
 
context CNTX1 
Creating context 'CNTX1'... Done. (2)   
allocate-interface Ethernet0 inside invisible   
allocate-interface Ethernet2 outside visible    
config-url disk0:/CNTX1.cfg 
 
 
context CNTX2 
Creating context 'CNTX2'... Done. (2)   
allocate-interface Ethernet1 inside invisible    
allocate-interface Ethernet2 outside visible  
config-url disk0:/CNTX2.cfg  
 
 
Verification 
 
ASAp1(config)# show context 



Task2 Configure the class for the context 
 
 Configure the ASAp1 with the following resources 

Configuration on Firewall 
 
ASAp1: 
 
class CNTX1   
limit-resource asdm 2    
limit-resource conns 1500  
limit-resource ssh 3   
limit-resource telnet 1   
limit-resource xlate 200 
 
class CNTX2   
limit-resource asdm 4    
limit-resource conns 2000    
limit-resource ssh 4   
limit-resource telnet 1   
limit-resource xlate 300 
 
 
 
Verification: - 
 
ASAp1# sh run all class 

Task3 Make sure from R7 to R5 and R8 to R6 Ping 
 
 Ensure the ping from the Higher Security Level to Lower Security level from R7to R5 and R8 to R6. 
 We are not allowed to configure any type of access list or address translation to make this ping happen.
  
Configuration on ASA 
 
ASAp1 
 
interface inside  nameif inside  security-level 100  ip address 70.1.1.1 255.255.255.0  
 
interface outside  nameif outside 
 security-level 0  ip address 50.1.1.1 255.255.255.0  
 
 
Verification:  
 
ASAp1/CNTX1# ping 70.1.1.1  


 
 
 