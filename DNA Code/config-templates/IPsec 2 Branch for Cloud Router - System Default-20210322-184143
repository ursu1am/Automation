{
    "author": "SYSTEM",
    "composite": false,
    "containingTemplates": [],
    "createTime": 1613496380326,
    "customParamsOrder": false,
    "description": "IPsec 2 Branch for Cloud Router - System Default",
    "deviceTypes": [
        {
            "productFamily": "Routers",
            "productSeries": "Cisco Cloud Services Router 1000V Series"
        }
    ],
    "documentDatabase": false,
    "id": "6924273d-4483-4522-aa8d-fb3baff89b4e",
    "language": "VELOCITY",
    "lastUpdateTime": 1613496380326,
    "latestVersionTime": 1613496380716,
    "name": "IPsec 2 Branch for Cloud Router - System Default",
    "parentTemplateId": "6924273d-4483-4522-aa8d-fb3baff89b4e",
    "projectAssociated": true,
    "projectId": "cd0c1706-85d5-4397-aa6e-9f7966e56573",
    "projectName": "Onboarding Configuration",
    "rollbackTemplateParams": [],
    "softwareType": "IOS-XE",
    "softwareVariant": "XE",
    "tags": [
        {
            "id": "9e954d68-367a-4e0a-af18-21f250d4af6c",
            "name": "cloud-ipsec-two-branch-routers"
        }
    ],
    "templateContent": "!--- Crypto Config ---\ncrypto isakmp policy 200\nencr aes\nauthentication pre-share\ngroup 2\nlifetime 28800\ncrypto isakmp key cisco address 0.0.0.0\ncrypto isakmp keepalive 10 10\n!\ncrypto ipsec security-association replay window-size 1024\n!\ncrypto ipsec transform-set csr esp-aes esp-sha-hmac\nmode tunnel\ncrypto ipsec df-bit clear\n!\ncrypto ipsec profile csr-prof\nset transform-set csr\n!--- IPsec Tunnel Config ---\ninterface Tunnel11\nip address $CloudRouterTunnelIpAddress1 $CloudRouterTunnelSubnetMask1\ntunnel source GigabitEthernet1\ntunnel destination $BranchRouterPublicIpAddress1\ntunnel protection ipsec profile csr-prof\ntunnel mode ipsec ipv4\nip mtu $mtu\nip tcp adjust-mss 1360\n!--- IPsec Tunnel Config ---\ninterface Tunnel12\nip address $CloudRouterTunnelIpAddress2 $CloudRouterTunnelSubnetMask2\ntunnel source GigabitEthernet1\ntunnel destination $BranchRouterPublicIpAddress2\ntunnel protection ipsec profile csr-prof\ntunnel mode ipsec ipv4\nip mtu $mtu\nip tcp adjust-mss 1360\n!\ninterface Loopback100\nno ip address\n!         \ninterface Loopback111\nip address $OspfRouterId 255.255.255.255\n!--- BGP Config ---\nrouter bgp $AutonomousSystemNumber\nbgp log-neighbor-changes\nneighbor $BranchRouterTunnelIP1 remote-as $NeighborBgpBranchRouter-1-ASN\nneighbor $BranchRouterTunnelIP2 remote-as $NeighborBgpBranchRouter-2-ASN\n!        \naddress-family ipv4\nnetwork $OspfRouterId mask 255.255.255.255\n  #if(${CloudRouterSubnet1})\n  network $CloudRouterSubnet1 mask $CloudRouterSubnetMask1\n  #end\n  #if(${CloudRouterSubnet2})\n  network $CloudRouterSubnet2 mask $CloudRouterSubnetMask2\n  #end\nneighbor $BranchRouterTunnelIP1 activate\nneighbor $BranchRouterTunnelIP2 activate",
    "templateParams": [
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel Subnet Mask 2",
            "displayName": "Tunnel Subnet Mask 2",
            "group": null,
            "id": "6874be12-ab1c-4277-a443-80c53412df32",
            "instructionText": "255.255.255.0",
            "key": null,
            "notParam": false,
            "order": 5,
            "paramArray": false,
            "parameterName": "CloudRouterTunnelSubnetMask2",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "2537a58e-98cd-4b9e-9583-3b263c57b3c5",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "{\"provider\":\"CLOUDCONNECT\",\"attributeToDisplay\":null,\"variableName\":\"CloudRouterSubnetMask2\",\"params\":[{\"type\":\"PRIVATE_SUBNET1_MASK\",\"scope\":\"RUNTIME\",\"value\":null}],\"value\":null,\"source\":\"CloudConnect\",\"entity\":\"PrivateSubnet-1-IPMask\",\"attribute\":null}",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "Private Subnet 2 Mask",
            "displayName": "Private Subnet 2 Mask",
            "group": null,
            "id": "4cfe249c-e4c6-4a60-9db9-06a1454951d0",
            "instructionText": "255.255.255.0",
            "key": null,
            "notParam": false,
            "order": 12,
            "paramArray": false,
            "parameterName": "CloudRouterSubnetMask2",
            "provider": null,
            "range": [],
            "required": false,
            "selection": {
                "defaultSelectedValues": [],
                "id": "344452b2-3412-4940-a21e-591e96cae375",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel IP 1",
            "displayName": "Tunnel IP 1",
            "group": null,
            "id": "29e7e579-039c-442f-b2e0-029085e6057e",
            "instructionText": "Tunnel IP 1",
            "key": null,
            "notParam": false,
            "order": 1,
            "paramArray": false,
            "parameterName": "CloudRouterTunnelIpAddress1",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "1598bd66-5484-4f58-b77c-2a19bcb6233e",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "{\"provider\":\"CLOUDCONNECT\",\"attributeToDisplay\":null,\"variableName\":\"CloudRouterSubnetMask1\",\"params\":[{\"type\":\"PRIVATE_SUBNET1_MASK\",\"scope\":\"RUNTIME\",\"value\":null}],\"value\":null,\"source\":\"CloudConnect\",\"entity\":\"PrivateSubnet-1-IPMask\",\"attribute\":null}",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "Private Subnet 1 Mask",
            "displayName": "Private Subnet 1 Mask",
            "group": null,
            "id": "4d9e6b3a-a0a5-4d15-996c-020310b3717c",
            "instructionText": "255.255.255.0",
            "key": null,
            "notParam": false,
            "order": 10,
            "paramArray": false,
            "parameterName": "CloudRouterSubnetMask1",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "092dc26c-4af1-4830-8858-c2dc908d82ef",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel Destination - Public IP Address of Branch Router 2",
            "displayName": "Tunnel Destination - Public IP Address of Branch Router 2",
            "group": null,
            "id": "37b3325d-3c9a-4f70-9b38-35f5767604e9",
            "instructionText": "Public IP Address of Branch Router 2",
            "key": null,
            "notParam": false,
            "order": 6,
            "paramArray": false,
            "parameterName": "BranchRouterPublicIpAddress2",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "84bc039c-25ec-42dd-b60d-ee7e61a73380",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "MTU for Tunnel",
            "displayName": "Maximum Transmission Unit (MTU) for Tunnel",
            "group": null,
            "id": "d38ede4a-2664-42a8-aa6a-e6feca897e60",
            "instructionText": "1400",
            "key": null,
            "notParam": false,
            "order": 14,
            "paramArray": false,
            "parameterName": "mtu",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "cb54b557-9301-4cb7-af59-146ec51d9e9d",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel Destination - Public IP Address of Branch Router 1",
            "displayName": "Tunnel Destination - Public IP Address of Branch Router 1",
            "group": null,
            "id": "352f9b58-0a05-4413-a0b6-b6c02cf8dd88",
            "instructionText": "Public IP Address of Branch Router 1",
            "key": null,
            "notParam": false,
            "order": 3,
            "paramArray": false,
            "parameterName": "BranchRouterPublicIpAddress1",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "3257dadf-0459-4bf6-ad8d-f4c35422eaf3",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "{\"provider\":\"CLOUDCONNECT\",\"attributeToDisplay\":null,\"variableName\":\"OspfRouterId\",\"params\":[{\"type\":\"CLOUD_ROUTER1_LOOPBACK_IPADDRESS\",\"scope\":\"RUNTIME\",\"value\":null}],\"value\":null,\"source\":\"CloudConnect\",\"entity\":\"CloudRouter-1-Loopback-IP\",\"attribute\":null}",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "OSPF Router ID in IP Address format (Unique Id per device)",
            "displayName": "OSPF Router ID in IP Address format (Unique Id per device)",
            "group": null,
            "id": "eaf34221-bfe5-4636-8917-082da72aa449",
            "instructionText": "1.1.1.1",
            "key": null,
            "notParam": false,
            "order": 13,
            "paramArray": false,
            "parameterName": "OspfRouterId",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "3a4a7247-33c8-451f-920f-536dfa630e66",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel IP of Branch Router 2 for BGP",
            "displayName": "Tunnel IP of Branch Router 2 for BGP",
            "group": null,
            "id": "3b66d080-a308-42e1-98c6-2db84373807e",
            "instructionText": "Tunnel IP of Branch Router 2 for BGP",
            "key": null,
            "notParam": false,
            "order": 8,
            "paramArray": false,
            "parameterName": "BranchRouterTunnelIP2",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "c03d7f97-9869-4cdf-95b3-8524e39f9133",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "INTEGER",
            "defaultValue": null,
            "description": "Neighbor BGP ASN Of Branch Router 2",
            "displayName": "Neighbor BGP ASN Of Branch Router 2",
            "group": null,
            "id": "77e99e38-4dff-4f9c-ae9b-3b6886f3b57d",
            "instructionText": "64512",
            "key": null,
            "notParam": false,
            "order": 17,
            "paramArray": false,
            "parameterName": "NeighborBgpBranchRouter-2-ASN",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "573ca006-545e-42d4-b2eb-e92693a0fef9",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel Subnet Mask 1",
            "displayName": "Tunnel Subnet Mask 1",
            "group": null,
            "id": "07b110d3-b897-4cbf-bf3c-69a2da8171ae",
            "instructionText": "255.255.255.0",
            "key": null,
            "notParam": false,
            "order": 2,
            "paramArray": false,
            "parameterName": "CloudRouterTunnelSubnetMask1",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "cf069b08-7e1d-4738-9daa-32e17482465a",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel IP  2",
            "displayName": "Tunnel IP 2",
            "group": null,
            "id": "6e140783-de0d-4de7-80a9-3cdf3c88ab45",
            "instructionText": "Tunnel IP 2",
            "key": null,
            "notParam": false,
            "order": 4,
            "paramArray": false,
            "parameterName": "CloudRouterTunnelIpAddress2",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "eaee40f9-ecf3-4172-aaca-708f47251e68",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "INTEGER",
            "defaultValue": null,
            "description": "Neighbor BGP ASN Of Branch Router 1",
            "displayName": "Neighbor BGP ASN Of Branch Router 1",
            "group": null,
            "id": "d6123661-72a9-409b-8840-5599f07b884f",
            "instructionText": "64512",
            "key": null,
            "notParam": false,
            "order": 16,
            "paramArray": false,
            "parameterName": "NeighborBgpBranchRouter-1-ASN",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "584aabd8-cc8c-4d31-a6a0-5f1386c8bbab",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "{\"provider\":\"CLOUDCONNECT\",\"attributeToDisplay\":null,\"variableName\":\"CloudRouterSubnet1\",\"params\":[{\"type\":\"PRIVATE_SUBNET1_IPADDRESS\",\"scope\":\"RUNTIME\",\"value\":null}],\"value\":null,\"source\":\"CloudConnect\",\"entity\":\"PrivateSubnet-1-IP\",\"attribute\":null}",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "Private Subnet 1 for BGP",
            "displayName": "Private Subnet 1 for BGP",
            "group": null,
            "id": "b1aff7c9-7d06-4e35-9470-04ad1450f728",
            "instructionText": "Private Subnet 1 for BGP",
            "key": null,
            "notParam": false,
            "order": 9,
            "paramArray": false,
            "parameterName": "CloudRouterSubnet1",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "8078609c-f6cc-4708-bf30-04d7a00a2839",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "{\"provider\":\"CLOUDCONNECT\",\"attributeToDisplay\":null,\"variableName\":\"CloudRouterSubnet2\",\"params\":[{\"type\":\"PRIVATE_SUBNET2_IPADDRESS\",\"scope\":\"RUNTIME\",\"value\":null}],\"value\":null,\"source\":\"CloudConnect\",\"entity\":\"PrivateSubnet-2-IP\",\"attribute\":null}",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "Private Subnet 2 for BGP",
            "displayName": "Private Subnet 2 for BGP",
            "group": null,
            "id": "7d6cbe19-ab60-43ed-9ebd-e88cc1297048",
            "instructionText": "Private Subnet 2 for BGP",
            "key": null,
            "notParam": false,
            "order": 11,
            "paramArray": false,
            "parameterName": "CloudRouterSubnet2",
            "provider": null,
            "range": [],
            "required": false,
            "selection": {
                "defaultSelectedValues": [],
                "id": "0aa8505b-3031-4e05-9795-042734c520b4",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "INTEGER",
            "defaultValue": null,
            "description": "BGP Autonomous System Number",
            "displayName": "BGP Autonomous System Number",
            "group": null,
            "id": "aea15584-c4cc-418b-a018-9894ba643cd8",
            "instructionText": "64512",
            "key": null,
            "notParam": false,
            "order": 15,
            "paramArray": false,
            "parameterName": "AutonomousSystemNumber",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "3622344d-226a-4e6b-b352-37e0ab683d16",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel IP of Branch Router 1 for BGP",
            "displayName": "Tunnel IP of Branch Router 1 for BGP",
            "group": null,
            "id": "5e0cd42e-ee56-4352-b997-6fc12bdee7a1",
            "instructionText": "Tunnel IP of Branch Router 1 for BGP",
            "key": null,
            "notParam": false,
            "order": 7,
            "paramArray": false,
            "parameterName": "BranchRouterTunnelIP1",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "38cd434b-aaa3-4376-a891-fdc98fd9c564",
                "selectionType": null,
                "selectionValues": {}
            }
        }
    ],
    "validationErrors": {
        "rollbackTemplateErrors": [],
        "templateErrors": [],
        "templateId": "6924273d-4483-4522-aa8d-fb3baff89b4e"
    }
}