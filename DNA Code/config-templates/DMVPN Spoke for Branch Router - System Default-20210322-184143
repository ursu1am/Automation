{
    "author": "SYSTEM",
    "composite": false,
    "containingTemplates": [],
    "createTime": 1613496382212,
    "customParamsOrder": false,
    "description": "Dynamic Multipoint VPN Spoke for Branch Router",
    "deviceTypes": [
        {
            "productFamily": "Routers"
        }
    ],
    "documentDatabase": false,
    "id": "737297bc-c1be-4758-a95c-b01333016472",
    "language": "VELOCITY",
    "lastUpdateTime": 1613496382212,
    "latestVersionTime": 1613496382502,
    "name": "DMVPN Spoke for Branch Router - System Default",
    "parentTemplateId": "737297bc-c1be-4758-a95c-b01333016472",
    "projectAssociated": true,
    "projectId": "454b5a10-f71a-400f-bb97-0a3d45e0817b",
    "projectName": "Cloud DayN Templates",
    "rollbackTemplateParams": [],
    "softwareType": "IOS-XE",
    "softwareVariant": "XE",
    "tags": [
        {
            "id": "4f7c86d3-756b-4652-af26-51b91a3931d8",
            "name": "branch-router-dmvpn-spoke"
        }
    ],
    "templateContent": "!--- Crypto Config ---\ncrypto keyring keyring-dmvpn\n  local-address $TunnelSource\n  pre-shared-key address 0.0.0.0 0.0.0.0 key cisco\n!\ncrypto isakmp policy 200\nencr aes\nauthentication pre-share\ngroup 2\nlifetime 28800\ncrypto isakmp keepalive 10 10\ncrypto isakmp profile dmvpn\n   keyring keyring-dmvpn\n   match identity address 0.0.0.0\n   local-address $TunnelSource\n!\ncrypto ipsec security-association replay window-size 1024\n!\ncrypto ipsec transform-set dmvpn esp-aes esp-sha-hmac\nmode transport\n!\n!\ncrypto ipsec profile dmvpn-prof\nset transform-set dmvpn\n!\n!--- DMVPN Tunnel Config ---\ninterface Loopback0\nip address $OspfRouterId 255.255.255.255\n!\ninterface Tunnel0\nip address $TunnelIPAddress $TunnelSubnetMask\nno ip redirects\nip mtu $mtu\n!\nip nhrp map multicast $PublicIPCloudRouter1 !PUBLICIP OF CSR1\nip nhrp map $ActiveCloudRouterTunnelIP $PublicIPCloudRouter1\nip nhrp map multicast $PublicIPCloudRouter2 !PUBLICIP OF CSR2\nip nhrp map $StandbyCloudRouterTunnelIP $PublicIPCloudRouter2\nip nhrp network-id $NetworkId\nip nhrp nhs $ActiveCloudRouterTunnelIP\nip nhrp nhs $StandbyCloudRouterTunnelIP\nip tcp adjust-mss 1360\nbfd interval 100 min_rx 100 multiplier 3\ntunnel source $TunnelSource\ntunnel mode gre multipoint\ntunnel key $TunnelKey\ntunnel protection ipsec profile dmvpn-prof\n!\n!--- BGP Config ---\nrouter bgp $AutonomousSystemNumber\nbgp log-neighbor-changes\nneighbor $ActiveCloudRouterTunnelIP remote-as $NeighborBgpASNOfActiveCloudRouter\nneighbor $ActiveCloudRouterTunnelIP fall-over bfd\nneighbor $StandbyCloudRouterTunnelIP remote-as $NeighborBgpASNOfStandbyCloudRouter\nneighbor $StandbyCloudRouterTunnelIP fall-over bfd\n!\naddress-family ipv4\n  network $OspfRouterId mask 255.255.255.255\n  neighbor $ActiveCloudRouterTunnelIP activate\n  neighbor $StandbyCloudRouterTunnelIP activate\nexit-address-family\n!",
    "templateParams": [
        {
            "binding": "{\"provider\":\"CLOUDCONNECT\",\"attributeToDisplay\":null,\"variableName\":\"PublicIPCloudRouter1\",\"params\":[{\"type\":\"CLOUD_ROUTER1_IPADDRESS\",\"scope\":\"RUNTIME\",\"value\":null}],\"value\":null,\"source\":\"CloudConnect\",\"entity\":\"CloudRouter-1-Public-IP\",\"attribute\":null}",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "Public IP of Cloud Router 1",
            "displayName": "Public IP of Cloud Router 1",
            "group": null,
            "id": "e7dcd177-5135-49bd-9e79-3a91bf1eb228",
            "instructionText": "Public IP of Cloud Router 1",
            "key": null,
            "notParam": false,
            "order": 4,
            "paramArray": false,
            "parameterName": "PublicIPCloudRouter1",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "ea280438-1e1f-42e6-9b37-e0ddc131e89b",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "MTU for Tunnel",
            "displayName": "Maximum Transmission Unit (MTU) for Tunnel",
            "group": null,
            "id": "df47777d-3752-43b8-8305-17d918bbb3c7",
            "instructionText": "1400",
            "key": null,
            "notParam": false,
            "order": 9,
            "paramArray": false,
            "parameterName": "mtu",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "57576dbc-f146-448e-8663-6bd9962fbf09",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "OSPF Router ID in IP Address format (Unique Id per device)",
            "displayName": "OSPF Router ID in IP Address format (Unique Id per device)",
            "group": null,
            "id": "d9d2ed23-24ab-41cd-b445-c8f25d6cdff0",
            "instructionText": "133.133.133.133",
            "key": null,
            "notParam": false,
            "order": 8,
            "paramArray": false,
            "parameterName": "OspfRouterId",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "fcf1b5db-6548-402f-b65c-23f84a42f3a2",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "Tunnel Source",
            "displayName": "Tunnel Source",
            "group": null,
            "id": "843f2287-c7b4-470a-97ea-d710ab56bf22",
            "instructionText": "GigabitEthernet0/0/1",
            "key": null,
            "notParam": false,
            "order": 3,
            "paramArray": false,
            "parameterName": "TunnelSource",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "8e778d92-7b6e-4a9c-91a3-740e39b59ad2",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel IP of Standby Cloud Router",
            "displayName": "Tunnel IP of Standby Cloud Router",
            "group": null,
            "id": "2decd84a-c445-42e6-9bd3-eb3746940d9a",
            "instructionText": "Tunnel IP of Standby Cloud Router",
            "key": null,
            "notParam": false,
            "order": 7,
            "paramArray": false,
            "parameterName": "StandbyCloudRouterTunnelIP",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "9ced7f8c-2f01-4231-9cac-7a40af0081d7",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "{\"provider\":\"CLOUDCONNECT\",\"attributeToDisplay\":null,\"variableName\":\"PublicIPCloudRouter2\",\"params\":[{\"type\":\"CLOUD_ROUTER2_IPADDRESS\",\"scope\":\"RUNTIME\",\"value\":null}],\"value\":null,\"source\":\"CloudConnect\",\"entity\":\"CloudRouter-2-Public-IP\",\"attribute\":null}",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "Public IP of Cloud Router 2",
            "displayName": "Public IP of Cloud Router 2",
            "group": null,
            "id": "885c09a9-afa2-47b6-a412-4a72c0d583a5",
            "instructionText": "Public IP of Cloud Router 2",
            "key": null,
            "notParam": false,
            "order": 5,
            "paramArray": false,
            "parameterName": "PublicIPCloudRouter2",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "b9a93061-deb2-49d3-90f5-3d80e39eb3dc",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel Subnet Mask",
            "displayName": "Tunnel Subnet Mask",
            "group": null,
            "id": "45e9e24c-ba0e-4f4e-a645-ec856611151b",
            "instructionText": "255.255.255.0",
            "key": null,
            "notParam": false,
            "order": 2,
            "paramArray": false,
            "parameterName": "TunnelSubnetMask",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "b7f93fe6-f0b0-4f6b-b0cf-33df87a20d31",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "INTEGER",
            "defaultValue": null,
            "description": "Network Id",
            "displayName": "Network Id",
            "group": null,
            "id": "087ae162-c056-4556-90b5-056dee2435cb",
            "instructionText": "1",
            "key": null,
            "notParam": false,
            "order": 13,
            "paramArray": false,
            "parameterName": "NetworkId",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "aa939a33-9290-4a26-a7bb-a67f7dc0a3c8",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "INTEGER",
            "defaultValue": null,
            "description": "Tunnel Key",
            "displayName": "Tunnel Key",
            "group": null,
            "id": "81ba84ba-bf42-46a7-9ef6-e747ae7ccfb0",
            "instructionText": "1",
            "key": null,
            "notParam": false,
            "order": 14,
            "paramArray": false,
            "parameterName": "TunnelKey",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "84a9991c-50db-4511-afdc-5c15fce9a746",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "INTEGER",
            "defaultValue": null,
            "description": "Neighbor BGP ASN of Active Router",
            "displayName": "Neighbor BGP ASN of Active Router",
            "group": null,
            "id": "000d0c2d-3bc5-40dc-9851-4f5811f2c171",
            "instructionText": "64512",
            "key": null,
            "notParam": false,
            "order": 11,
            "paramArray": false,
            "parameterName": "NeighborBgpASNOfActiveCloudRouter",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "dcbe990b-4a28-4460-a92f-2ea5db67ec30",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "INTEGER",
            "defaultValue": null,
            "description": "Neighbor BGP ASN of Stanby Router",
            "displayName": "Neighbor BGP ASN of Standby Router",
            "group": null,
            "id": "707deeb3-da70-4ad5-b002-ee76e177cbf5",
            "instructionText": "64512",
            "key": null,
            "notParam": false,
            "order": 12,
            "paramArray": false,
            "parameterName": "NeighborBgpASNOfStandbyCloudRouter",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "bf6e92ec-5f3a-4b00-b227-bd124f9b1854",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "INTEGER",
            "defaultValue": null,
            "description": "BGP Autonomous System Number",
            "displayName": "BGP Autonomous System Number",
            "group": null,
            "id": "a7cbbdfd-9944-44ce-a9b9-d24ad406f97d",
            "instructionText": "65001",
            "key": null,
            "notParam": false,
            "order": 10,
            "paramArray": false,
            "parameterName": "AutonomousSystemNumber",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "18d97369-dc2e-44ba-9e8a-9b25689f4cf3",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "STRING",
            "defaultValue": null,
            "description": "Tunnel IP",
            "displayName": "Tunnel IP",
            "group": null,
            "id": "5d1b2c95-2b41-445b-afef-9a6c01370dc8",
            "instructionText": "Tunnel IP",
            "key": null,
            "notParam": false,
            "order": 1,
            "paramArray": false,
            "parameterName": "TunnelIPAddress",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "9cdf4ac9-881e-4473-a92c-9990258432ac",
                "selectionType": null,
                "selectionValues": {}
            }
        },
        {
            "binding": "",
            "customOrder": 0,
            "dataType": "IPADDRESS",
            "defaultValue": null,
            "description": "Tunnel IP of Active Cloud Router",
            "displayName": "Tunnel IP of Active Cloud Router",
            "group": null,
            "id": "340e56c9-14c6-446e-88d1-b5e5af5ed9c1",
            "instructionText": "Tunnel IP of Active Cloud Router",
            "key": null,
            "notParam": false,
            "order": 6,
            "paramArray": false,
            "parameterName": "ActiveCloudRouterTunnelIP",
            "provider": null,
            "range": [],
            "required": true,
            "selection": {
                "defaultSelectedValues": [],
                "id": "3d0ebb7c-5a9a-4840-a405-030ea1a15676",
                "selectionType": null,
                "selectionValues": {}
            }
        }
    ],
    "validationErrors": {
        "rollbackTemplateErrors": [],
        "templateErrors": [],
        "templateId": "737297bc-c1be-4758-a95c-b01333016472"
    }
}